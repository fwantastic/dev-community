<!DOCTYPE html>
<html lang="en">

{{> /include/header}}

<body>

	{{> /include/navigation}}

	<!-- Page Content -->
	<div class="container">

		<div class="row">

			<!-- Post Content Column -->
			<div class="col-lg-8 wordwrap">

				<!-- Title -->
				<h1 class="mt-4">수정</h1>

				<hr>

				{{#article}}
				<form name="createUserForm" method="POST" action="/articles">
					<input type="hidden" name="_method" value="put" />
					<input type="hidden" name="{{_csrf.parameterName}}"
						value="{{_csrf.token}}" />

					<input type="hidden" name="articleId" value="{{articleId}}" />

					<div class="form-group">
						<label for="userEmail">제목</label>
						<input class="form-control" id="title" name="title"
							placeholder="제목" value="{{title}}">
					</div>

					<div class="form-group">
						<label for="userEmail">Tags</label>

						<div class="">
							<select id="tagsArray" name="tagsArray" class="multipleSelect"
								multiple name="tagsArray">
								{{#allTags}}
								<option value="{{tagId}}">{{tagName}}</option>
								{{/allTags}}
							</select>
						</div>
					</div>

					<textarea name="contents" id="contents">{{contents}}</textarea>

					<button type="submit" class="btn btn-success clearfix float-right">저장</button>
					<div class="clearfix"></div>

					<hr>
				</form>
				{{/article}}

			</div>

			{{> /include/sidewidgets}}

		</div>
		<!-- /.row -->

	</div>
	<!-- /.container -->

</body>

{{> /include/footer}}

<script>
	var simplemde = new SimpleMDE({
		element : document.getElementById("contents"),
		spellChecker : false,
	});
</script>

<script type="text/javascript">
	var inputtxt = document.getElementById('tagsArray');

		/* iterate through the tags list to show them as selected */
		{{#article}}
			{{#tags}}
				$("#tagsArray option[value=" + {{tagId}} + "]").prop("selected", "selected");
			{{/tags}}
		{{/article}}
	
	$('.multipleSelect').fastselect();
</script>

</html>
